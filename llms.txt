# ZenithGram Library Documentation

> Powerful PHP library for creating Telegram bots with Webhook & LongPoll support

## Table of Contents

### Начало работы

- [Почему ZenithGram?](https://zenithgram.github.io/install/who_zenith.md): Обзор возможностей библиотеки: Webhook/LongPoll, цепочки методов, роутинг и работа с медиа.
- [Примеры ботов](https://zenithgram.github.io/install/examples.md): Коллекция примеров кода: Echo-бот, LongPoll, Webhook и использование конструктора Bot.

### Использование

- [Получение обновлений](https://zenithgram.github.io/using/getting-updates.md): Настройка методов получения обновлений: Long Polling для разработки и Webhook для продакшена.
- [Конструктор сообщений](https://zenithgram.github.io/using/messages.md): Работа с Fluent Interface для создания, форматирования и отправки сообщений.
- [Обработчики событий](https://zenithgram.github.io/using/handlers.md): Описание обработчиков из класса Bot
- [Машина состояний (FSM / Диалоги)](https://zenithgram.github.io/using/fsm.md): Создание диалогов и пошаговых сценариев с помощью FSM (Finite State Machine).
- [Внедрение зависимостей и Рефлексия (Dependency Injection)](https://zenithgram.github.io/using/reflection.md): Использование Dependency Injection и рефлексии для чистого кода.
- [Middleware](https://zenithgram.github.io/using/middleware.md): Промежуточное ПО для фильтрации запросов, логирования и проверки прав доступа.
- [Пагинация (Pagination)](https://zenithgram.github.io/using/pagination.md)
- [Обработка ошибок](https://zenithgram.github.io/using/errorHandler.md): Руководство по настройке и использованию встроенного обработчика ошибок (ErrorHandler).
- [Конструктор опросов](https://zenithgram.github.io/using/poll.md): Создание и отправка опросов и викторин.

### Классы

- [ZG](https://zenithgram.github.io/classes/zenith.md): Основной класс библиотеки.
- [LongPoll](https://zenithgram.github.io/classes/longpoll.md): Класс для запуска бота в режиме Long Polling.
- [Bot](https://zenithgram.github.io/classes/bot.md): Конструктор для создания логики бота.
- [Action](https://zenithgram.github.io/classes/action.md): Вспомогательный класс для установки действий.
- [Message](https://zenithgram.github.io/classes/message.md): Конструктор сообщений.
- [Button](https://zenithgram.github.io/classes/button.md): Вспомогательный класс для создания кнопок.
- [File](https://zenithgram.github.io/classes/file.md): Класс для работы с файлами.
- [Storage](https://zenithgram.github.io/classes/storage.md): Классы для работы с хранилищем состояний (FSM).
- [Poll](https://zenithgram.github.io/classes/poll.md): Класс для создания опросов.
- [Pagination](https://zenithgram.github.io/classes/pagination.md): Класс для пагинации страниц.
- [Inline](https://zenithgram.github.io/classes/inline.md): Класс для создания инлайн-ответов.
- [ErrorHandler](https://zenithgram.github.io/classes/errorhandler.md): Настройка обработки и логирования ошибок (ErrorHandler).
- [DTO](https://zenithgram.github.io/classes/dto.md): Объекты данных UserDto и ChatDto.
- [Enum](https://zenithgram.github.io/classes/enum.md): Все Enum и их значения

#### ZG

- [msg](https://zenithgram.github.io/classes/zenithMethods/msg.md): Создает экземпляр класса Message для отправки сообщений.
- [poll](https://zenithgram.github.io/classes/zenithMethods/poll.md): Создает экземпляр класса Poll для создания опросов.
- [pagination](https://zenithgram.github.io/classes/zenithMethods/pagination.md): Создает экземпляр класса Pagination для генерации страниц.
- [inline](https://zenithgram.github.io/classes/zenithMethods/inline.md): Создает экземпляр класса Inline для ответов на Inline-запросы.
- [file](https://zenithgram.github.io/classes/zenithMethods/file.md): Создает экземпляр класса File для работы с файлами (скачивание, инфо).
- [initVars](https://zenithgram.github.io/classes/zenithMethods/initVars.md): Инициализирует основные переменные (chat_id, user_id, text) из входящего обновления.
- [get](https://zenithgram.github.io/classes/zenithMethods/get.md): Методы получения данных из обновления (getChatId, getText и др.).
- [defaultParseMode](https://zenithgram.github.io/classes/zenithMethods/defaultParseMode.md): Устанавливает режим разметки по умолчанию для всех сообщений.
- [sendMessage](https://zenithgram.github.io/classes/zenithMethods/sendMessage.md): Отправляет текстовое сообщение в указанный чат (прямой метод).
- [reply](https://zenithgram.github.io/classes/zenithMethods/reply.md): Отправляет ответ на текущее сообщение (сокращенный метод).
- [copyMsg](https://zenithgram.github.io/classes/zenithMethods/copyMsg.md): Копирует сообщение из одного чата в другой.
- [fwdMsg](https://zenithgram.github.io/classes/zenithMethods/fwdMsg.md): Пересылает сообщение из одного чата в другой.
- [delMsg](https://zenithgram.github.io/classes/zenithMethods/delMsg.md): Удаляет сообщение по его ID.
- [pinMsg](https://zenithgram.github.io/classes/zenithMethods/pinMsg.md): Закрепляет сообщение в чате.
- [unpinMsg](https://zenithgram.github.io/classes/zenithMethods/unpinMsg.md): Открепляет сообщение в чате.
- [sendAction](https://zenithgram.github.io/classes/zenithMethods/sendAction.md): Отправляет статус действия бота (например, 'typing').
- [answers](https://zenithgram.github.io/classes/zenithMethods/answers.md): Методы для ответа на callback (answerCallbackQuery) и inline запросы.
- [callAPI](https://zenithgram.github.io/classes/zenithMethods/callAPI.md): Выполняет произвольный метод Telegram Bot API.
- [setStorage](https://zenithgram.github.io/classes/zenithMethods/setStorage.md): Устанавливает хранилище состояний.
- [storage](https://zenithgram.github.io/classes/zenithMethods/getStorage.md): Возвращает объект текущего хранилища.
- [step](https://zenithgram.github.io/classes/zenithMethods/step.md): Переводит пользователя на следующий шаг (состояние).
- [endStep](https://zenithgram.github.io/classes/zenithMethods/endStep.md): Завершает диалог (сбрасывает состояние).
- [session](https://zenithgram.github.io/classes/zenithMethods/session.md): Работа с данными сессии (получение и сохранение).

#### Bot

- [onStart](https://zenithgram.github.io/classes/botMethods/onStart.md): Обработчик команды /start.
- [onBotCommand](https://zenithgram.github.io/classes/botMethods/onBotCommand.md): Обработчик стандартных команд (начинающихся с /).
- [onCommand](https://zenithgram.github.io/classes/botMethods/onCommand.md): Обработчик кастомных команд с поддержкой аргументов и плейсхолдеров.
- [onReferral](https://zenithgram.github.io/classes/botMethods/onReferral.md): Обработчик реферальных ссылок (параметры в /start).
- [onText](https://zenithgram.github.io/classes/botMethods/onText.md): Обработчик точного совпадения текста сообщения.
- [onTextPreg](https://zenithgram.github.io/classes/botMethods/onTextPreg.md): Обработчик текста сообщения по регулярному выражению.
- [btn](https://zenithgram.github.io/classes/botMethods/btn.md): Определяет кнопку и привязывает к ней действие (для меню).
- [onCallback](https://zenithgram.github.io/classes/botMethods/onCallback.md): Обработчик нажатия на Inline-кнопку.
- [onCallbackPreg](https://zenithgram.github.io/classes/botMethods/onCallbackPreg.md): Обработчик callback_data по регулярному выражению.
- [onInline](https://zenithgram.github.io/classes/botMethods/onInline.md): Обработчик входящих Inline-запросов.
- [onPhoto](https://zenithgram.github.io/classes/botMethods/onPhoto.md): Срабатывает при получении изображения.
- [onVideo](https://zenithgram.github.io/classes/botMethods/onVideo.md): Срабатывает при получении видео.
- [onAudio](https://zenithgram.github.io/classes/botMethods/onAudio.md): Срабатывает при получении аудиофайла.
- [onVoice](https://zenithgram.github.io/classes/botMethods/onVoice.md): Срабатывает при получении голосового сообщения.
- [onVideoNote](https://zenithgram.github.io/classes/botMethods/onVideoNote.md): Срабатывает при получении видео-сообщения ('кружочка').
- [onDocument](https://zenithgram.github.io/classes/botMethods/onDocument.md): Срабатывает при получении документа.
- [onSticker](https://zenithgram.github.io/classes/botMethods/onSticker.md): Срабатывает при получении стикера.
- [onNewChatMember](https://zenithgram.github.io/classes/botMethods/onNewChatMember.md): Срабатывает при вступлении новых участников в чат.
- [onLeftChatMember](https://zenithgram.github.io/classes/botMethods/onLeftChatMember.md): Срабатывает при выходе участника из чата.
- [onEditedMessage](https://zenithgram.github.io/classes/botMethods/onEditedMessage.md): Срабатывает при редактировании сообщения пользователем.
- [onMessage](https://zenithgram.github.io/classes/botMethods/onMessage.md): Обработчик любого текстового сообщения (fallback для текста).
- [onDefault](https://zenithgram.github.io/classes/botMethods/onDefault.md): Глобальный fallback-обработчик для любых необработанных событий.
- [onState](https://zenithgram.github.io/classes/botMethods/onState.md): Создает маршрут для обработки конкретного состояния.
- [reflection](https://zenithgram.github.io/classes/botMethods/reflection.md): Включает режим рефлексии для автоматического внедрения зависимостей.
- [setCache](https://zenithgram.github.io/classes/botMethods/setCache.md): Устанавливает PSR-16 кеш для оптимизации рефлексии.
- [setContainer](https://zenithgram.github.io/classes/botMethods/setContainer.md): Устанавливает PSR-11 контейнер для внедрения внешних зависимостей.
- [redirect](https://zenithgram.github.io/classes/botMethods/redirect.md): Перенаправляет выполнение на другой маршрут.
- [middleware](https://zenithgram.github.io/classes/botMethods/middleware.md): Регистрирует глобальное Middleware для бота.
- [setStorage](https://zenithgram.github.io/classes/botMethods/setStorage.md): Подключает хранилище к боту.
- [ZG](https://zenithgram.github.io/classes/botMethods/zg.md): Передает экземпляр ZG в конструктор Bot.
- [run](https://zenithgram.github.io/classes/botMethods/run.md): Запускает обработку обновлений и маршрутизацию.

#### Action

- [MessageBuilder](https://zenithgram.github.io/classes/actionMethods/messageBuilder.md): Стек методов, собирающих сообщение с fluent-interface
- [func](https://zenithgram.github.io/classes/actionMethods/func.md): Выполняет пользовательскую функцию-обработчик.
- [access](https://zenithgram.github.io/classes/actionMethods/access.md): Ограничивает доступ к маршруту по ID пользователя (белый список).
- [noAccess](https://zenithgram.github.io/classes/actionMethods/noAccess.md): Запрещает доступ к маршруту по ID пользователя (черный список).
- [middleware](https://zenithgram.github.io/classes/actionMethods/middleware.md): Регистрирует Middleware для конкретного маршрута.
- [redirect](https://zenithgram.github.io/classes/actionMethods/redirect.md): Перенаправляет на другой маршрут (например, 'Назад').
- [query](https://zenithgram.github.io/classes/actionMethods/query.md): Показывает всплывающее уведомление (alert) на callback-запрос.

#### Message

- [text](https://zenithgram.github.io/classes/messageMethods/text.md): Устанавливает текст сообщения.
- [img](https://zenithgram.github.io/classes/messageMethods/img.md): Добавляет изображение (или альбом).
- [video](https://zenithgram.github.io/classes/messageMethods/video.md): Добавляет видео (или альбом).
- [audio](https://zenithgram.github.io/classes/messageMethods/audio.md): Добавляет аудио.
- [voice](https://zenithgram.github.io/classes/messageMethods/voice.md): Добавляет голосовое сообщение.
- [doc](https://zenithgram.github.io/classes/messageMethods/doc.md): Добавляет документ.
- [gif](https://zenithgram.github.io/classes/messageMethods/gif.md): Добавляет GIF.
- [sticker](https://zenithgram.github.io/classes/messageMethods/sticker.md): Добавляет стикер.
- [dice](https://zenithgram.github.io/classes/messageMethods/dice.md): Отправляет анимированный эмодзи-кубик.
- [mediaPreview](https://zenithgram.github.io/classes/messageMethods/mediaPreview.md): Добавляет скрытую ссылку для превью.
- [kbd](https://zenithgram.github.io/classes/messageMethods/kbd.md): Добавляет Reply-клавиатуру.
- [inlineKbd](https://zenithgram.github.io/classes/messageMethods/inlineKbd.md): Добавляет Inline-клавиатуру.
- [removeKbd](https://zenithgram.github.io/classes/messageMethods/removeKbd.md): Удаляет клавиатуру.
- [forceReply](https://zenithgram.github.io/classes/messageMethods/forceReply.md): Открывает интерфейс ответа.
- [parseMode](https://zenithgram.github.io/classes/messageMethods/parseMode.md): Устанавливает режим разметки.
- [reply](https://zenithgram.github.io/classes/messageMethods/reply.md): Устанавливает ID сообщения для ответа.
- [params](https://zenithgram.github.io/classes/messageMethods/params.md): Устанавливает дополнительные параметры.
- [send](https://zenithgram.github.io/classes/messageMethods/send.md): Отправляет сформированное сообщение.
- [editText](https://zenithgram.github.io/classes/messageMethods/editText.md): Редактирует текст сообщения по ID.
- [editCaption](https://zenithgram.github.io/classes/messageMethods/editCaption.md): Редактирует подпись медиа по ID.
- [editMedia](https://zenithgram.github.io/classes/messageMethods/editMedia.md): Заменяет медиа в сообщении по ID.

#### File

- [getFileId](https://zenithgram.github.io/classes/fileMethods/getFileId.md): Получает file_id из сообщения.
- [getFileInfo](https://zenithgram.github.io/classes/fileMethods/getFileInfo.md): Получает информацию о файле через API.
- [getFileSize](https://zenithgram.github.io/classes/fileMethods/getFileSize.md): Возвращает размер файла.
- [getFilePath](https://zenithgram.github.io/classes/fileMethods/getFilePath.md): Возвращает прямую ссылку на файл (для скачивания).
- [save](https://zenithgram.github.io/classes/fileMethods/save.md): Скачивает и сохраняет файл локально.

#### Poll

- [question](https://zenithgram.github.io/classes/pollMethods/question.md): Устанавливает вопрос опроса.
- [addAnswers](https://zenithgram.github.io/classes/pollMethods/addAnswers.md): Добавляет варианты ответов.
- [isAnonymous](https://zenithgram.github.io/classes/pollMethods/isAnonymous.md): Настраивает анонимность опроса.
- [multipleAnswers](https://zenithgram.github.io/classes/pollMethods/multipleAnswers.md): Разрешает выбор нескольких вариантов.
- [openPeriod](https://zenithgram.github.io/classes/pollMethods/openPeriod.md): Устанавливает время жизни опроса.
- [closeDate](https://zenithgram.github.io/classes/pollMethods/closeDate.md): Устанавливает дату закрытия опроса.
- [close](https://zenithgram.github.io/classes/pollMethods/close.md): Отправляет опрос закрытым.
- [parseMode](https://zenithgram.github.io/classes/pollMethods/parseMode.md): Устанавливает разметку для объяснений.
- [correctAnswer](https://zenithgram.github.io/classes/pollMethods/correctAnswer.md): Устанавливает правильный ответ (для викторин).
- [explanation](https://zenithgram.github.io/classes/pollMethods/explanation.md): Добавляет пояснение к викторине.
- [send](https://zenithgram.github.io/classes/pollMethods/send.md): Отправляет опрос.

#### Pagination

- [setItems](https://zenithgram.github.io/classes/paginationMethods/setItems.md): Устанавливает массив элементов для пагинации.
- [setPerPage](https://zenithgram.github.io/classes/paginationMethods/setPerPage.md): Задает количество элементов на странице.
- [setPrefix](https://zenithgram.github.io/classes/paginationMethods/setPrefix.md): Устанавливает префикс для callback_data.
- [setPage](https://zenithgram.github.io/classes/paginationMethods/setPage.md): Устанавливает текущую страницу.
- [setColumns](https://zenithgram.github.io/classes/paginationMethods/setColumns.md): Задает количество колонок.
- [setNavigationLayout](https://zenithgram.github.io/classes/paginationMethods/setNavigationLayout.md): Настраивает расположение кнопок навигации.
- [setMode](https://zenithgram.github.io/classes/paginationMethods/setMode.md): Переключает вид навигации (стрелки/цифры).
- [setSigns](https://zenithgram.github.io/classes/paginationMethods/setSigns.md): Настраивает символы стрелок навигации.
- [setSideSigns](https://zenithgram.github.io/classes/paginationMethods/setSideSigns.md): Включает кнопки 'В начало/В конец'.
- [setMaxPageBtn](https://zenithgram.github.io/classes/paginationMethods/setMaxPageBtn.md): Лимит кнопок страниц.
- [setNumberStyle](https://zenithgram.github.io/classes/paginationMethods/setNumberStyle.md): Стиль цифр (обычные/эмодзи).
- [setActivePageFormat](https://zenithgram.github.io/classes/paginationMethods/setActivePageFormat.md): Формат отображения активной страницы.
- [addReturnBtn](https://zenithgram.github.io/classes/paginationMethods/addReturnBtn.md): Добавляет кнопку 'Назад' под пагинацией.
- [getTotalPage](https://zenithgram.github.io/classes/paginationMethods/getTotalPage.md): Возвращает общее количество страниц.
- [create](https://zenithgram.github.io/classes/paginationMethods/create.md): Генерирует массив кнопок для клавиатуры.

#### Inline

- [id](https://zenithgram.github.io/classes/inlineMethods/id.md): Устанавливает ID результата.
- [title](https://zenithgram.github.io/classes/inlineMethods/title.md): Устанавливает заголовок.
- [description](https://zenithgram.github.io/classes/inlineMethods/description.md): Устанавливает описание.
- [text](https://zenithgram.github.io/classes/inlineMethods/text.md): Устанавливает текст сообщения при выборе.
- [fileUrl](https://zenithgram.github.io/classes/inlineMethods/fileUrl.md): Устанавливает URL файла.
- [fileID](https://zenithgram.github.io/classes/inlineMethods/fileID.md): Устанавливает file_id файла.
- [mimeType](https://zenithgram.github.io/classes/inlineMethods/mimeType.md): Устанавливает MIME-тип контента.
- [coordinates](https://zenithgram.github.io/classes/inlineMethods/coordinates.md): Устанавливает координаты.
- [address](https://zenithgram.github.io/classes/inlineMethods/address.md): Устанавливает адрес.
- [thumb](https://zenithgram.github.io/classes/inlineMethods/thumb.md): Устанавливает миниатюру.
- [kbd](https://zenithgram.github.io/classes/inlineMethods/kbd.md): Добавляет Inline-клавиатуру к результату.
- [parseMode](https://zenithgram.github.io/classes/inlineMethods/parseMode.md): Устанавливает режим разметки.
- [params](https://zenithgram.github.io/classes/inlineMethods/params.md): Добавляет доп. параметры.
- [create](https://zenithgram.github.io/classes/inlineMethods/create.md): Собирает массив результата.


### Other

- [Untitled](https://zenithgram.github.io/index.md)

