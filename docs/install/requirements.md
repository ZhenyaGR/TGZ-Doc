# Системные требования и установка
## Требования
* PHP: `8.0-8.4+`  
* Модуль: `mbstring` 
* Модуль: `curl`
* Модуль: `json` (Обычно включён по умолчанию)

## Установка в Linux:

Для установки PHP и необходимых модулей выполните команду, соответствующую вашему дистрибутиву Linux. При необходимости замените версию PHP (например, `8.3`) на нужную вам.

### Пакетный менеджер apt (Debian, Ubuntu)

```bash
sudo apt update
sudo apt install php8.3 php8.3-mbstring php8.3-curl php8.3-json
```

### Пакетный менеджер dnf/yum (CentOS, RHEL, Fedora)

Для этих систем часто требуется подключение дополнительного репозитория, такого как Remi, для установки свежих версий PHP.

```bash
# Для Fedora (dnf)
sudo dnf install php php-mbstring php-curl php-json

# Для CentOS/RHEL (может потребоваться репозиторий Remi)
sudo yum install php php-mbstring php-curl php-json
```

### Пакетный менеджер pacman (Arch Linux, Manjaro)

В Arch Linux модули обычно являются частью основного пакета `php`, и их нужно раскомментировать в конфигурационном файле.

```bash
# Установка самого PHP
sudo pacman -S php

# После установки откройте файл /etc/php/php.ini и раскомментируйте строки:
# extension=curl
# extension=mbstring
# extension=json
```

## Установка `PHP`,`mbstring` и `curl` в Windows: 
`mbstring` уже установлен в windows.  
Для установки php используйте эту [статью](https://prognote.ru/web-dev/beck-end/how-to-install-php-on-windows/)  
Для установки curl скачайте его [отсюда](https://curl.haxx.se/windows/) и распакуйте на диск C:

## Включение PHP модулей в php.ini
После установки PHP и модулей, найдите файл php.ini в папке с установленным php и раскомментируйте следующие строки (убрать `;`):  
`extension=curl
extension=mbstring
extension=json`

## Если на сервере есть Apache
То необходимо еще настроить php.ini внутри apache, чтобы бот мог нормально работать с callback.  
Также, необходимо перезагружать apache после настройки PHP следующей командой:
```bash
sudo systemctl restart apache2
```


## Заметка о работе библиотеки на бесплатных хостингах
Библиотека может стабильно функционировать только в том случае, если на хостинге используется веб-сервер `nginx` или `apache`, а также хостинг не запрещает отправлять кастомные `header` изнутри `PHP` (Иначе библиотека не сможет закрывать соединение с ВК до окончания выполнения скрипта, и высок шанс, что ВК не сможет получить ответ от скрипта вовремя, и начнет слать события заново).
  
Например, бесплатный хостинг `000webhost` использует самописный веб-сервер, поэтому на нем работать нормально не будет.