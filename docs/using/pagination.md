---
title: –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
---

# –ü–∞–≥–∏–Ω–∞—Ü–∏—è (Pagination)

–ö–ª–∞—Å—Å `Pagination` ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—Ä—É—á–Ω—É—é –≤—ã—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–º–µ—â–µ–Ω–∏—è (offset) –∏ —Ä–∏—Å–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (`<`, `>`), –≤—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç–µ –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–µ–ª–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ.

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

1.  –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50 —Ç–æ–≤–∞—Ä–æ–≤).
2.  –ü–µ—Ä–µ–¥–∞–µ—Ç–µ –∏—Ö –≤ `Pagination`.
3.  –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Å–∫–æ–ª—å–∫–æ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫).
4.  –£–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
5.  –ú–µ—Ç–æ–¥ `create()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫ –¥–ª—è –º–µ—Ç–æ–¥–∞ `inlineKbd()`.

## –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏–∑ 20 –∫–Ω–æ–ø–æ–∫ –∏ –æ—Ç–æ–±—Ä–∞–∑–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';
use ZhenyaGR\TGZ\TGZ;

$tg = TGZ::create('–¢–û–ö–ï–ù');

// 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫
$items = [];
for ($i = 1; $i <= 20; $i++) {
    // –°–æ–∑–¥–∞–µ–º callback-–∫–Ω–æ–ø–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
    $items[] = $tg->buttonCallback("–¢–æ–≤–∞—Ä #$i", "buy_item_$i");
}

// 2. –°–æ–∑–¥–∞–µ–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é
$keyboard = $tg->pagination()
    ->setItems($items)          // –ü–µ—Ä–µ–¥–∞–µ–º –Ω–∞—à–∏ –∫–Ω–æ–ø–∫–∏
    ->setPerPage(5)             // 5 —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    ->setPage(1)                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º 1-—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    ->setPrefix('page_')        // –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    ->create();                 // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤

// 3. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
$tg->msg("–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1):")
    ->inlineKbd($keyboard)
    ->send();
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å 5 –∫–Ω–æ–ø–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ–¥ –Ω–∏–º–∏.

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π (–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ ‚Äî –∑–∞—Å—Ç–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—Ç—å.
–ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç `callback_data` –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `{prefix}{–Ω–æ–º–µ—Ä_—Å—Ç—Ä–∞–Ω–∏—Ü—ã}`.
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ `setPrefix('catalog_')`, –∫–Ω–æ–ø–∫–∞ "–í–ø–µ—Ä–µ–¥" –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å data `catalog_2`.

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–∏—Å—Ç–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—è —Å–æ–æ–±—â–µ–Ω–∏–µ.

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';
use ZhenyaGR\TGZ\TGZ;
use ZhenyaGR\TGZ\Bot;
use ZhenyaGR\TGZ\Pagination; // –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–ª–∞—Å—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç

$tg = TGZ::create('–¢–û–ö–ï–ù');
$bot = new Bot($tg);

function getCatalogKeyboard(TGZ $tg, int $page): array {
    // –ò–º–∏—Ç–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
    $items = [];
    for ($i = 1; $i <= 30; $i++) {
        $items[] = $tg->buttonCallback("üì¶ –¢–æ–≤–∞—Ä $i", "item_$i");
    }

    return $tg->pagination()
        ->setItems($items)
        ->setPerPage(6)                 // 6 —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        ->setColumns(2)                 // –í 2 –∫–æ–ª–æ–Ω–∫–∏
        ->setPage($page)                // –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
        ->setPrefix('catalog_page_')    // –í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç: –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –æ—Ç–ª–æ–≤–∞
        ->setNavigationLayout(Pagination::LAYOUT_SMART) // –£–º–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫
        ->addReturnButton('üîô –í –º–µ–Ω—é', 'main_menu')
        ->create();
}


// 1. –ö–æ–º–∞–Ω–¥–∞ –≤—ã–∑–æ–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
$bot->onBotCommand('catalog', '/catalog')
    ->func(function(TGZ $tg) {
        $keyboard = getCatalogKeyboard($tg, 1);
        $tg->msg("üìÇ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–°—Ç—Ä. 1):")
            ->inlineKbd($keyboard)
            ->send();
    });

// 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–æ–≤–∞ 'catalog_page_1', 'catalog_page_2' –∏ —Ç.–¥.
$bot->onCallbackPreg('catalog_handler', '/^catalog_page_(\d+)$/')
    ->func(function(TGZ $tg, int $page) {
        $query_id = $tg->getQueryId();
        $tg->answerCallbackQuery($query_id); // –£–±–∏—Ä–∞–µ–º "—á–∞—Å–∏–∫–∏"

        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        $keyboard = getCatalogKeyboard($tg, $page);

        // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        $tg->msg("üìÇ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–°—Ç—Ä. $page):")
           ->inlineKbd($keyboard)
           ->editText();
    });

$bot->run();
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

### –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
–í—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –∫–Ω–æ–ø–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é `setPerPage` –∏ `setColumns`.

```php
$tg->pagination()
    ->setPerPage(10) // –í—Å–µ–≥–æ 10 –∫–Ω–æ–ø–æ–∫
    ->setColumns(2)  // –ü–æ 2 –≤ —Ä—è–¥ (–ø–æ–ª—É—á–∏—Ç—Å—è 5 —Ä—è–¥–æ–≤)
    // ...
```

### –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç —Å—Ç—Ä–µ–ª–æ—á–µ–∫ –∏ –≤–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫–∏ "–í –Ω–∞—á–∞–ª–æ" / "–í –∫–æ–Ω–µ—Ü".

```php
$tg->pagination()
    // –ò–∑–º–µ–Ω—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–µ–ª–∫–∏
    ->setSigns('‚¨ÖÔ∏è –¢—É–¥–∞', '–°—é–¥–∞ ‚û°Ô∏è')
    // –í–∫–ª—é—á–∞–µ–º –∏ –Ω–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ "–í –Ω–∞—á–∞–ª–æ" –∏ "–í –∫–æ–Ω–µ—Ü"
    ->setSideSigns('‚èÆÔ∏è –°—Ç–∞—Ä—Ç', '–§–∏–Ω–∏—à ‚è≠Ô∏è')
    // ...
```

### –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (Layout)
–ú–µ—Ç–æ–¥ `setNavigationLayout` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –∫–∞–∫ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –¥—Ä—É–≥ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥–∞.

–î–æ—Å—Ç—É–ø–Ω—ã —Ç—Ä–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–ª–∞—Å—Å–∞ `Pagination`:

1.  **`Pagination::LAYOUT_ROW`** (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    –í—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É: `[<<] [<] [>] [>>]`

2.  **`Pagination::LAYOUT_SPLIT`**
    –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏. –£–¥–æ–±–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
    –°—Ç—Ä–æ–∫–∞ 1: `[<] [>]` (–û—Å–Ω–æ–≤–Ω—ã–µ)
    –°—Ç—Ä–æ–∫–∞ 2: `[<<] [>>]` (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)

3.  **`Pagination::LAYOUT_SMART`**
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º. –ï—Å–ª–∏ –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–∞–ª–æ (<= 2), –æ–Ω–∏ –≤—Å—Ç–∞–Ω—É—Ç –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É. –ï—Å–ª–∏ –º–Ω–æ–≥–æ (3 –∏–ª–∏ 4) ‚Äî —Ä–∞–∑–¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∏ –Ω–µ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–º–∏.

```php
use ZhenyaGR\TGZ\Pagination;

$tg->pagination()
    ->setNavigationLayout(Pagination::LAYOUT_SMART)
    // ...
```

### –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
–ß–∞—Å—Ç–æ –ø–æ–¥ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é"). –ú–µ—Ç–æ–¥ `addReturnButton` –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∞–∫—É—é –∫–Ω–æ–ø–∫—É —Å–∞–º—ã–º –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ä—è–¥–æ–º.

```php
$tg->pagination()
    ->addReturnButton('üö™ –í—ã—Ö–æ–¥', 'close_menu')
    // ...
```