---
title: Bot
---

# onCallback
–ú–µ—Ç–æ–¥ `onCallback` —Å–æ–∑–¥–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `callback_query` (–Ω–∞–∂–∞—Ç–∏–π –Ω–∞ inline-–∫–Ω–æ–ø–∫–∏).

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –∫–æ–ª–±—ç–∫–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º, –∏ `callback_data` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ID –∫–Ω–æ–ø–∫–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ `btn()`. –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–Ω—é —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–∫—É `btn()` –∏ `inlineKbd()`, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
| # | –ù–∞–∑–≤–∞–Ω–∏–µ |   –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                                                              |
|:-:|:--------:|:--------:|:----------------------------------------------------------------------|
| 1 | **id**   | `string` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞.                          |
| 2 | **data** | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ `callback_data`, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–µ–Ω —Å—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–∞—Ä—à—Ä—É—Ç. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `id`. |

## –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç
`Action` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `Action` (–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å), –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (`text`, `func` –∏ —Ç.–¥.).

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º inline-–∫–Ω–æ–ø–∫—É "–Ω–∞ –ª–µ—Ç—É", –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è `btn()`, –∏ –∑–∞—Ç–µ–º –ª–æ–≤–∏–º –µ–µ –Ω–∞–∂–∞—Ç–∏–µ —á–µ—Ä–µ–∑ `onCallback()`.

```php
<?php
require_once __DIR__ . 'vendor/autoload.php';
use ZhenyaGR\TGZ\TGZ;
use ZhenyaGR\TGZ\Bot;

$tg = TGZ::create('–¢–û–ö–ï–ù');
$bot = new Bot($tg);

// –ü–æ –∫–æ–º–∞–Ω–¥–µ /vote –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –≤—Ä—É—á–Ω—É—é
$bot->onBotCommand('vote', '/vote')
    ->text('–í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è —ç—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞?')
    ->inlineKbd([
        [
            // –ö–Ω–æ–ø–∫–∞, —Å–æ–∑–¥–∞–Ω–Ω–∞—è "–Ω–∞ –ª–µ—Ç—É"
            $tg->buttonCallback('–î–∞ üëç', 'vote_yes'),
            $tg->buttonCallback('–ù–µ—Ç üëé', 'vote_no')
        ]
    ]);

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è callback_data 'vote_yes'
$bot->onCallback('handle_vote_yes', 'vote_yes')
    ->query('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≥–æ–ª–æ—Å!') // –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    ->edit('–í—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ "–î–∞". –û—Ç–ª–∏—á–Ω–æ!'); // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è callback_data 'vote_no'
$bot->onCallback('handle_vote_no', 'vote_no')
    ->query('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≥–æ–ª–æ—Å!')
    ->edit('–í—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ "–ù–µ—Ç". –ñ–∞–ª—å!');

$bot->run();
```