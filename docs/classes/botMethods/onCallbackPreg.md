---
title: onCallbackPreg
description: "–û–±—Ä–∞–±–æ—Ç—á–∏–∫ callback_data –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é."
---

# onCallbackPreg
–ú–µ—Ç–æ–¥ `onCallbackPreg` —Å–æ–∑–¥–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ `callback_query` (–Ω–∞–∂–∞—Ç–∏–π –Ω–∞ inline-–∫–Ω–æ–ø–∫–∏). –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∫–Ω–æ–ø–æ–∫, —á—Ç–æ–±—ã —É–ø—Ä–æ—â–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
| # |  –ù–∞–∑–≤–∞–Ω–∏–µ   |   –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                                              |
|:-:|:-----------:|:--------:|:------------------------------------------------------|
| 1 |   **id**    | `string` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞.          |
| 2 | **pattern** | `string` | –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å `callback_data`. |

## –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç
`Action` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `Action` (–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å), –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (`text`, `func` –∏ —Ç.–¥.).

## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
–ú–∞—Å—Å–∏–≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `preg_match`, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `func()`.</br>
–ü—Ä–∏ —ç—Ç–æ–º –º–∞—Å—Å–∏–≤ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `...`

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º inline-–∫–Ω–æ–ø–∫–∏ —á–µ—Ä–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é.

```php
<?php
require_once __DIR__ . '/vendor/autoload.php';
use ZenithGram\ZenithGram\ZG;
use ZenithGram\ZenithGram\Bot;
use ZenithGram\ZenithGram\Button;
use ZenithGram\ZenithGram\Pagination;

$tg = ZG::create(BOT_TOKEN);
$bot = new Bot($tg);

function getCatalogKeyboard(ZG $tg, int $page): array {
    $items = [];
    for ($i = 1; $i <= 30; $i++) {
        $items[] = Button::cb("üì¶ –¢–æ–≤–∞—Ä $i", "item_$i");
    }
    return $tg->pagination()->setItems($items)->setPerPage(6)->setColumns(2)->setPage($page)->setPrefix('catalog_page_')->create();
}

// 1. –ö–æ–º–∞–Ω–¥–∞ –≤—ã–∑–æ–≤–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
$bot->onBotCommand('catalog', '/catalog')
    ->func(function(ZG $tg) {
        $keyboard = getCatalogKeyboard($tg, 1);
        $tg->msg("üìÇ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–°—Ç—Ä. 1):")
            ->inlineKbd($keyboard)
            ->send();
    });

// 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
$bot->onCallbackPreg('catalog_handler', '/^catalog_page_(\d+)$/')
    ->func(function(ZG $tg, int $page) {
        $tg->answerCallbackQuery();

        $keyboard = getCatalogKeyboard($tg, $page);

        $tg->msg("üìÇ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (–°—Ç—Ä. $page):")
           ->inlineKbd($keyboard)
           ->editText();
    });

$bot->run()
```