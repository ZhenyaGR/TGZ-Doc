---
title: Bot
---

## onBotCommand
Метод `onBotCommand` создает маршрут, который срабатывает, когда пользователь отправляет боту команду, начинающуюся со слеша (`/`). Например: `/start`, `/help`.

### Параметры
| # |  Название   |        Тип        | Описание                                                                                                                                          |
|:-:|:-----------:|:-----------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 |   **id**    |     `string`      | Уникальный идентификатор для этого маршрута.                                                                                                      |
| 2 | **command** | `string`\|`array` | Команда или массив команд для отслеживания (например, `/start` или `['/start', '/begin']`). Если не указана, используется `id` с добавлением `/`. |

### Возвращает
`Action` — экземпляр класса `Action` (Вспомогательный класс), на который можно навешивать дальнейшие действия (`text`, `func` и т.д.).

### Обработка аргументов
Если команда содержит аргументы (например, `/start 12345`), они будут переданы в обработчик `func()`.

### Пример использования
```php
<?php
require_once __DIR__ . 'vendor/autoload.php';
use ZhenyaGR\TGZ\TGZ;
use ZhenyaGR\TGZ\Bot;

$tg = TGZ::create('ТОКЕН');
$bot = new Bot($tg);

// Простая команда без аргументов
$bot->onBotCommand('help', '/help')
    ->text('Это бот, созданный на библиотеке TGZ. Доступные команды: /start, /help.');

// Обработка одной команды с разными псевдонимами
$bot->onBotCommand('start', ['/start', '/begin'])
    ->text('Добро пожаловать!');

// Команда с аргументами (например, для реферальных ссылок)
// Пользователь пишет: /start ref123
$bot->onBotCommand('start_with_ref', '/start')
    ->func(function($ref) use ($tg) {
        if ($ref) {
            $tg->msg("Вы перешли по реферальной ссылке с кодом: {$ref}")->send();
        } else {
            $tg->msg("Привет! Вы можете пригласить друга по своей ссылке.")->send();
        }
    });

$bot->run();
```